steps:
  bash_shell:
    image: bash
    shell: bash
    run: |
      echo 1
      echo 2

  sh_shell:
    image: alpine
    shell: sh
    run: |
      echo 1
      echo 2

  python_shell:
    image: python:3.8-alpine
    shell: python
    run: |
      import os
      print(os.environ['PATH'])

  pwsh_shell:
    image: mcr.microsoft.com/powershell:preview-alpine-3.11
    # image: mcr.azk8s.cn/powershell:preview-alpine-3.11
    shell: pwsh
    run: |
      pwd
      write-host 1
      write-host 2

  node_shell:
    image: node:alpine
    shell: node
    run: |
      console.log(1)
      console.log(2)

      let os = require('os')
      console.log(`::set-output name=os_arch::${os.arch()}`)
      console.log(`::set-output name=KKK::%0D %0A %25 : , !`)

  deno_shell:
    image: pcit/deno
    shell: deno
    run: |
      console.log(1)
      console.log(2)

      Deno.version

      Deno.env.get('OS_ARCH')
      Deno.env.get('KKK')
    env:
      - OS_ARCH=${{steps.node_shell.outputs.os_arch}}
      - KKK=${{steps.node_shell.outputs.KKK}}

clone:
  git:
    disable: true
